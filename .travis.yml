language: node_js
sudo: false
cache:
  apt: true
  yarn: true
  directories:
  - .lanyon
node_js:
- 7
script:
- npm run lint
- npm test
before_cache:
- rm -f ./node_modules/.bin/which

deploy:
  skip_cleanup: true
  provider: script
  script: ./node_modules/lanyon/scripts/ci-deploy.sh
  on:
    branch: master
    condition: $TRAVIS_OS_NAME = linux
env:
  global:
  - secure: GKYptT34MjkLdmHmq3yT+kM9+WU/E6/9fyV3o2yneAPj2Mr5wKD8f3LWwbU/H/CIEZ5/QLM4j5FcpFy8F44gywfhSn2XBy5cwiA8+MbOsukjQKeR7RzCm92fJAVT0t16li7OpiiojTUyXD69EWIPk8DC63m2jZbgsIU9ot9f1U45StRONvr3Mxy9bSOHaEMEpC87rx4HNpQy3eZs6gKtGcQKkDHhs8stYv5ZCVjdxeDP5nzFrTtQTRgQHh/GoOgbgIErSyLpp5uEv+uK3TUGG6fKUyMP/joLP9Y4t03BwLoCU77WCBxYVYSunMYoDycKv10KRSEobyjLEnTr/Nuzb2kL8xF2KmvJA0EAcE1N/h1xMgYTHk1rVtfG2XnQPoTGD4eANvBDCwSPPwxJP/p6R7jxSAWzj3kI2bqsVXUl6AhdUC3MJfpei/hnBkJUNereCLiBVZmJPpxj/z1teBiNc+sKSpuZ0dNoTvUHweOk6lRQOz1CurhqI4nVfuLnLnKVA9gVe+r3tl7jPYmgwFHLoVAAzRtII+WIvKgV8ah2ooi2qtpGV6o7P/+NpblSMJLbGzWpsXFysiYuPcmvH2tJjik0xz4SjjQbe/C9flZre3GF+FF3ef2mEu5oksCpZO4Y34I0fUkngCWJUhTfDN/vLkID+fnVx6lfUJ3pOPkn/Ak=
  - secure: nnyg1JsVfbIbBdKtRAoFbGyVInBFVWo5vA88qp5kz5asoRfFpKWsvejyXBEJGTyT3PnpAIKbh+D4oa59fJ7WMifKCCNqmTh4G6hY81vC3ydmhTCpnuvE3V38Sr8HnXm7YeXJiYgmYdkXMZe0vKP1dWGZN1AevCfIEW6qdvArFPCszwO9rfoUcPlByAExrIHD6U1dJTdRhDA/TUy+1RjIytIFf9Ads2zo9+lu4UR7Aqk03SDnDdrVUfxdFqOq7NuN9QV4K7KBNlMnP0xA435AUE0sD4b6q+ZNAg+LYKjuxJaXzkRxSZb+cqW2No0XEWaUH/9emy6zzRfl5jVPGbFzrhKIO2Cpn9j7z4Ca4GlM/hU1yPoVXMzeOZkjkPtwUzJWbfwsviyOL1v94n2e1fYlm+R6YGHk6uFEkoNhZF7cqZxYNRTv0woDEPB4NZZDYKT6JUC8ZPIeuPpSpqlllutZmdss26EeP+JNLqA44MMkmGP8C5xosi5Uy8vaHReGmQpMiO2e+NC7edDFSrcdUuQd4MLeHkX8wGfIBehNTZIXlOuzzIwR74Kt1Df1D+mHhs+/Jz6H9467aezCy+PUT/mnn6quOsBLp+CLbjOToEnf3QdkPfdSKoys/v6MHKvbwwAAsKjeKRVo4QmQ15CBLGy1edrwfSzaSUxvJDnyApWXEsg=
  - secure: P+pOSckaL/0NgncH6dVTHBX0NunudrHJ0djluavsvEsagwlWw8CbjXDCEWXuO5JHT3TyAm2v/LTJAwWUUw70tIa8hU2RKSRFwMCZZuximJS9TduZV9it3AsziLOkkLIXKAnVewtuuGIwAgsCYeZQdLCAwF4LrCXVFxCZj3v9dIHYZAcaRmpZZGcWD/ZKm7h8EDeSP3Ol02BZ9Xg3lvK+pWnYI+d4CiiqQe3Xv/nwCOh7gL6MX/qBbX/msVzZu7lree5qmAuezTZL7OJW1J8UqlFKmKJo0E6dpAu0bfad4P8Pdp6OO/JyM2fqJcchAUuX28ntkSSpkyuMFXuS20LcGODCGmhE/pMbRdRYytDhosQcxXrlHd0qus10zUCabc4F7/bXrvKHr7umBgqdi7FyXJ38h+g8Hn8rEFFKCdat297nFVFHIRTEXDpCnNnrvJGE7qOSB7y9DvUr7wQXdTBuybNEBkX4D7XFOwslYvTchvWfOVIFfN6qkmvlRS8dqAh+IxH9W7WSUW+EKoNd1gD1/u8lE/NkyRaPzVfKJAa4H9HTiSLR6GRyz572HFhASqxuXkLxs4eVMuzEMudWUNk2qY4Xwm0ZIfUNl1kdDveO93UIDAvtM0I+t+EmWjmUL7x9JocomE7nig7a7qQcOGQ5PX9oMSNQPqbsUBfBUz0VKJY=
  - secure: XVkcKMT+07iS7NTIKuBTunkPESBHIdfUhFVJO3TAjzojEzXYsLUjYezXrdBw1Q+FlqFZ7Mk8gy9kC+nL9RIJn+tE/ho8yzwSY9wce/S7uTFj4VeaLFnGUUovnkGAVLwSbZcpqKXZazIYUA9nsKEZBxbHyVZVxIDx3DIhQ2p1W7Ld5oftE2gU34KUKVfccLS4e4mIWtPf7KXgHKvNPKQx37TjMveCoIg2WTws06Tr4y4P6z6JCmO5sPgzd5GkgW5ilTk55Uwamqrr1WnKfxyyyY87jb3uf/zh77SjsW6m+nnEoeqGgG9MH3Ose2KAePc+bm8Rfcki4o/8ea/pouQ/6wdXPeQAvX40Ec8AMrFu5BLB1+vd2XMp+sViuDEOmpqplWj6s3maJ0ESin4D+DpsGHh8bp0yr39rx+fYnSxY3WSqP06cvxoLSSHzADJzYa+qt+6N6uWi6VztdCgU6qWH+HMQV4NHqvk+e2w8uTSOKa+UmeM0luGXZwFnKu1QTfb2mJs5Df5GcpNQSKVsBB6ZCW9a7wv6T0csQYBMUmJdvHy4HDCvwI/RDfpOf/gniecMlcFNDu/eWYAh9KOjIlYLul4lr82EnZEf+JYpBhIfXMeFv7O2L0NavSvxCtT03c45psA+QZVIGDjcnZGYC1tapqK0+wImg/4miVSi3N69g8c=
notifications:
  slack:
    secure: HgY8Qql7VteMNbbJ7LkuOYlIT/DbN8pZc7S1Jw8REPvA24hj/C1NFjzcZFMRKUEI5H6/KXE0t/1Y3hz8rAhf0EoYMlFPjtMh7WYser5dgvJWZRH/ONKIUsJ0HI6q2+ZbxSVxcztJW5cmKCGljzB88bSdhuBlmyjtkgvA/XaidAKYWIQJIUhcqTlv7cJ9DdPBeQDD+bA0aetROS+XlSWssb99rXLLUuR2zOJtIC7+0cextbyQAOtVDNdEL8Mmc5dWJLc91aFHHYjHbatCeUoGbOakqiAC2Z2dNdurTGFMJ1B3fbrXpOjMSAPBCQMQnEF8Cxo3Pp6dxbWLaRoZZmLaYttvthxenFVoUsRy/HzEnRyZg2C7Yr8lQD30s5zEUu2IK+qJ2qgwNkq8prGKyro6jYAZBf3wTNepEXwdvPYc6aOjBRCFe0dfc11z3bBVtc0VjO/zHL+nt1FVx+IwWzx9QoiFHe0kik9hokDT0X8BTpbM8KeLbbO8jMFS8xao3G4uS9zLpYxJ3gwlyuVu9MKA75VP1n8gHt51fHzIRBZtQ6+paz1vXPbCPBOVPZul5fyhamGFCBUcM0C5OZ8Uiy3T86ITyok9Xmx4z2pVsqziyO1+6yjwWi5W+S04jCE2yRKwVUuIzTSeuoWKUjq5DMYyrgy88lT6AxbUkzUiYL6HE0w=
